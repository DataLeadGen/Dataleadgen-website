{% extends 'base.html' %}

{% block title %}Customize Leads - Data Lead Generation{% endblock %}

{% block extra_css %}
<style>
    /* Custom styles for the Customize Leads page */
    
    /* Enhanced header and icon styles */
    .icon-wrapper {
        display: flex;
        justify-content: center;
        margin-bottom: 1.5rem;
    }
    
    .icon-circle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        box-shadow: 0 8px 16px rgba(0, 86, 179, 0.3);
        position: relative;
        overflow: hidden;
    }
    
    .icon-circle::before {
        content: '';
        position: absolute;
        width: 150%;
        height: 150%;
        background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
        top: -25%;
        left: -25%;
        opacity: 0.3;
    }
    
    .pulse-icon {
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.1);
        }
        100% {
            transform: scale(1);
        }
    }
    
    .glow-effect {
        position: relative;
        border-radius: 10px;
        overflow: hidden;
        border: none;
        background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        color: white;
        display: flex;
        align-items: center;
        box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
    }
    
    .alert-icon-wrapper {
        background-color: rgba(255, 255, 255, 0.2);
        padding: 0.75rem;
        border-radius: 8px 0 0 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        font-size: 0.9rem;
    }
    
    .alert-content {
        flex: 1;
    }
    
    .premium-badge {
        display: inline-flex;
        align-items: center;
        background: linear-gradient(135deg, #4287f5 0%, #0056b3 100%);
        color: white;
        padding: 0.4rem 0.8rem;
        border-radius: 50px;
        font-weight: 600;
        font-size: 0.85rem;
        box-shadow: 0 4px 10px rgba(0, 86, 179, 0.3);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
    }
    
    .premium-badge:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 86, 179, 0.4);
    }
    
    .badge-icon {
        margin-right: 0.4rem;
        animation: rotate 3s linear infinite;
        display: inline-block;
        font-size: 0.8rem;
    }
    
    @keyframes rotate {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
    
    .badge-text {
        position: relative;
        z-index: 1;
    }
    
    .badge-sparkle {
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        animation: sparkle 2s infinite;
    }
    
    @keyframes sparkle {
        0% {
            left: -100%;
        }
        100% {
            left: 100%;
        }
    }
    
    /* Enhanced file upload styles */
    .custom-file-upload {
        margin-bottom: 1rem;
    }
    
    .upload-btn-wrapper {
        display: flex;
        align-items: center;
        margin-bottom: 0.5rem;
    }
    
    .btn-upload {
        position: relative;
        overflow: hidden;
        padding: 0.6rem 1.2rem;
        transition: all 0.3s ease;
    }
    
    .btn-upload:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 86, 179, 0.2);
    }
    
    .file-types .badge {
        padding: 0.5rem 0.8rem;
        font-size: 0.85rem;
        transition: all 0.3s ease;
    }
    
    .file-types .badge:hover {
        transform: translateY(-2px);
    }
    
    /* Enhanced leads input styles */
    .leads-input-group {
        border-radius: 8px;
        overflow: hidden;
    }
    
    .leads-input-group .input-group-text {
        border: none;
    }
    
    .leads-input-group .btn {
        border-radius: 0;
        padding: 0.5rem 0.8rem;
        transition: all 0.2s ease;
    }
    
    .leads-input-group .btn:hover {
        background-color: var(--primary-color);
        color: white;
    }
    
    /* Dark mode specific enhancements */
    html.dark-mode .btn-upload {
        border-color: #4287f5;
        color: #4287f5;
    }
    
    html.dark-mode .btn-upload:hover {
        background-color: #4287f5;
        color: #fff;
    }
    
    html.dark-mode .file-types .badge {
        background-color: #2c3e50 !important;
    }
    
    html.dark-mode #file-chosen.text-success {
        color: #4cd964 !important;
    }
    
    html.dark-mode .customize-leads-section {
        background-color: var(--light-color);
        background-image: linear-gradient(135deg, #233549 0%, rgba(44, 62, 80, 0.1) 100%);
    }
    
    html.dark-mode .form-card {
        background-color: #1e1e1e;
        border-color: #343a40;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    
    html.dark-mode .form-header h1 {
        color: #4287f5;
    }
    
    html.dark-mode .form-header p {
        color: #b8c4d0;
    }
    
    html.dark-mode .alert-success {
        background-color: #1e3a2f;
        color: #d1f7e0;
        border-color: #2d5f4b;
    }
    
    html.dark-mode .radio-label {
        border-color: #343a40;
        color: #e9ecef;
    }
    
    html.dark-mode .radio-label:hover {
        background-color: rgba(66, 135, 245, 0.1);
        border-color: #4287f5;
    }
    
    html.dark-mode input[type="radio"]:checked + .radio-label {
        background-color: rgba(66, 135, 245, 0.2);
        border-color: #4287f5;
    }
    .customize-leads-section {
        padding: 5rem 0;
        background-color: var(--light-color);
        background-image: linear-gradient(135deg, var(--light-blue) 0%, rgba(0,86,179,0.05) 100%);
    }
    
    .form-card {
        background-color: var(--card-bg);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        padding: 2.5rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        animation: fadeInUp 0.8s ease-out;
    }
    
    .form-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
    }
    
    .form-header {
        margin-bottom: 2.5rem;
        text-align: center;
    }
    
    .form-header h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: var(--primary-color);
        animation: fadeIn 1s ease-out;
    }
    
    .form-header p {
        color: var(--gray-color);
        font-size: 1.1rem;
    }
    
    .form-group {
        margin-bottom: 1.5rem;
        position: relative;
        transition: all 0.3s ease;
    }
    
    .form-label {
        font-weight: 600;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        color: var(--text-color);
        transition: all 0.3s ease;
        font-size: 0.95rem;
        line-height: 1.3;
    }
    
    .form-control {
        padding: 0.45rem 0.75rem;
        border-radius: 4px;
        border: 1px solid var(--input-border);
        background-color: var(--input-bg);
        color: var(--text-color);
        transition: all 0.3s ease;
        font-size: 0.9rem;
        height: 36px;
        line-height: 1.3;
    }
    
    .form-control:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(0, 86, 179, 0.2);
        transform: translateY(-2px);
    }
    
    .form-text {
        color: var(--gray-color);
        font-size: 0.8rem;
        margin-top: 0.4rem;
        line-height: 1.3;
    }
    
    .enhanced-text {
        display: inline-flex;
        align-items: center;
        padding: 0.2rem 0.5rem;
        background-color: rgba(0, 86, 179, 0.05);
        border-left: 2px solid var(--primary-color);
        border-radius: 0 3px 3px 0;
        transition: all 0.3s ease;
        font-size: 0.8rem;
        line-height: 1.3;
        margin-top: 0.4rem;
    }
    
    .enhanced-text i {
        font-size: 0.75rem;
        margin-right: 0.3rem;
    }
    
    .form-group:hover .enhanced-text {
        background-color: rgba(0, 86, 179, 0.1);
        transform: translateX(3px);
    }
    
    .optional-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.6rem;
        padding: 0.1rem 0.35rem;
        background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        color: white;
        border-radius: 50px;
        margin-left: 0.4rem;
        box-shadow: 0 1px 2px rgba(108, 117, 125, 0.2);
        transition: all 0.3s ease;
        height: 16px;
        line-height: 1;
        font-weight: 500;
    }
    
    .form-label:hover .optional-badge {
        transform: scale(1.05);
        box-shadow: 0 3px 8px rgba(108, 117, 125, 0.4);
    }
    
    .radio-group {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-top: 0.5rem;
    }
    
    .radio-item {
        flex: 1;
        min-width: 200px;
    }
    
    .radio-label {
        display: flex;
        align-items: center;
        padding: 1rem;
        border: 2px solid var(--input-border);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .radio-label:hover {
        border-color: var(--primary-color);
        background-color: rgba(0, 86, 179, 0.05);
    }
    
    input[type="radio"]:checked + .radio-label {
        border-color: var(--primary-color);
        background-color: rgba(0, 86, 179, 0.1);
    }
    
    .submit-btn {
        display: block;
        width: 100%;
        padding: 1rem;
        border-radius: 8px;
        background-color: var(--primary-color);
        color: white;
        font-weight: 600;
        font-size: 1.1rem;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 2rem;
        position: relative;
        overflow: hidden;
        z-index: 1;
    }
    
    .submit-btn:before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: all 0.6s ease;
        z-index: -1;
    }
    
    .submit-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 86, 179, 0.3);
    }
    
    .submit-btn:hover:before {
        left: 100%;
    }
    
    .form-icon-wrapper {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        margin-right: 0.4rem;
        box-shadow: 0 2px 4px rgba(0, 86, 179, 0.15);
        transition: all 0.3s ease;
        vertical-align: middle;
        position: relative;
        top: -1px;
    }
    
    .form-icon {
        color: white;
        font-size: 0.65rem;
        transition: all 0.3s ease;
        line-height: 1;
    }
    
    .form-group:hover .form-icon-wrapper {
        transform: scale(1.1) rotate(5deg);
        box-shadow: 0 5px 12px rgba(0, 86, 179, 0.3);
    }
    
    .form-group:hover .form-icon {
        transform: scale(1.1);
    }
    
    .input-wrapper {
        position: relative;
        margin-bottom: 0.3rem;
    }
    
    .input-focus-effect {
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--primary-color), #4287f5);
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }
    
    .form-control:focus + .input-focus-effect {
        width: 100%;
    }
    
    .select-wrapper {
        position: relative;
    }
    
    .select-arrow {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray-color);
        pointer-events: none;
        font-size: 0.8rem;
    }
    
    .select-arrow {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--primary-color);
        pointer-events: none;
        transition: all 0.3s ease;
    }
    
    .select-wrapper:hover .select-arrow {
        transform: translateY(-50%) rotate(180deg);
    }
    
    .custom-select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        cursor: pointer;
        background-image: none !important;
        padding-right: 40px;
    }
    
    .custom-input-group {
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
    }
    
    .custom-input-group:hover {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .custom-input-group .input-group-text {
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        border: none;
    }
    
    .custom-range-container {
        animation: fadeIn 0.5s ease-out;
        padding: 1rem;
        border-radius: 8px;
        background-color: rgba(0, 86, 179, 0.03);
        border-left: 3px solid var(--primary-color);
    }
    
    .tags-suggestion {
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem;
        margin: 0.35rem 0;
    }
    
    .tag-item {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.2rem 0.5rem;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border: 1px solid #dee2e6;
        border-radius: 50px;
        font-size: 0.7rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        height: 22px;
        line-height: 1;
    }
    
    .tag-item:hover {
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 86, 179, 0.2);
    }
    
    .tag-clicked {
        animation: pulse 0.5s ease;
    }
    
    html.dark-mode .tag-item {
        background: linear-gradient(135deg, #343a40 0%, #212529 100%);
        border-color: #495057;
        color: #e9ecef;
    }
    
    .leads-input-group,
    .custom-input-group {
        border-radius: 4px;
        overflow: hidden;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        height: 36px;
    }
    
    .leads-input-group .input-group-text,
    .custom-input-group .input-group-text {
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        border: none;
        font-size: 0.8rem;
        padding: 0.4rem 0.7rem;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 36px;
    }
    
    .btn-counter {
        width: 32px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border: 1px solid #dee2e6;
        color: var(--primary-color);
        transition: all 0.3s ease;
        font-size: 0.75rem;
        padding: 0;
        margin: 0 1px;
    }
    
    .btn-counter:hover {
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 86, 179, 0.2);
    }
    
    .counter-value-display {
        display: flex;
        align-items: center;
        margin: 0.5rem 0;
        font-weight: 500;
        font-size: 0.85rem;
    }
    
    #currentLeadCount {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 24px;
        height: 24px;
        text-align: center;
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        border-radius: 50%;
        margin-right: 0.5rem;
        transition: all 0.3s ease;
        font-size: 0.8rem;
        font-weight: 600;
    }
    
    .counter-label {
        color: var(--gray-color);
    }
    
    .counter-changed {
        animation: pulse 0.5s ease;
    }
    
    html.dark-mode .btn-counter {
        background: linear-gradient(135deg, #343a40 0%, #212529 100%);
        border-color: #495057;
        color: #e9ecef;
    }
    
    html.dark-mode .btn-counter:hover {
        background: linear-gradient(135deg, #4287f5 0%, #0056b3 100%);
        color: white;
    }
    
    .textarea-wrapper {
        position: relative;
        margin-bottom: 0.5rem;
    }
    
    .textarea-focus-effect {
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--primary-color), #4287f5);
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }
    
    .form-control:focus + .textarea-focus-effect {
        width: 100%;
    }
    
    .textarea-character-count {
        position: absolute;
        bottom: 6px;
        right: 6px;
        font-size: 0.7rem;
        color: var(--gray-color);
        background-color: rgba(255, 255, 255, 0.8);
        padding: 0.15rem 0.4rem;
        border-radius: 3px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        line-height: 1;
    }
    
    #notesCharCount {
        font-weight: 600;
        color: var(--primary-color);
        transition: all 0.3s ease;
        font-size: 0.7rem;
    }
    
    .char-count-updated {
        transform: scale(1.2);
        color: var(--primary-color) !important;
    }
    
    html.dark-mode .textarea-character-count {
        background-color: rgba(33, 37, 41, 0.8);
        color: #e9ecef;
    }
    
    /* Enhanced file upload styles */
    .file-drop-area {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        max-width: 100%;
        padding: 2rem;
        border: 2px dashed var(--input-border);
        border-radius: 8px;
        transition: all 0.3s ease;
        background-color: var(--input-bg);
        text-align: center;
        cursor: pointer;
        margin-bottom: 1rem;
    }
    
    .file-drop-area:hover {
        border-color: var(--primary-color);
        background-color: rgba(0, 86, 179, 0.03);
    }
    
    .file-drop-area.highlight {
        border-color: var(--primary-color);
        background-color: rgba(0, 86, 179, 0.05);
        transform: scale(1.01);
        box-shadow: 0 5px 15px rgba(0, 86, 179, 0.1);
    }
    
    .file-drop-area.file-added {
        border-style: solid;
        border-color: var(--primary-color);
        background-color: rgba(0, 86, 179, 0.03);
    }
    
    .upload-icon-container {
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .upload-icon {
        font-size: 1.5rem;
        color: var(--primary-color);
        animation: float 3s ease-in-out infinite;
        line-height: 1;
    }
    
    @keyframes float {
        0% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-10px);
        }
        100% {
            transform: translateY(0px);
        }
    }
    
    .upload-text {
        margin-bottom: 1rem;
    }
    
    .upload-text p {
        margin-bottom: 0.5rem;
        color: var(--gray-color);
    }
    
    .btn-upload-file {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.35rem 1rem;
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        border: none;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 2px 6px rgba(0, 86, 179, 0.2);
        font-size: 0.75rem;
        height: 28px;
        line-height: 1;
    }
    
    .btn-upload-file:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 86, 179, 0.3);
    }
    
    .file-chosen-container {
        width: 100%;
        animation: fadeIn 0.5s ease;
    }
    
    .selected-file {
        display: flex;
        align-items: center;
        padding: 0.8rem;
        background-color: rgba(0, 86, 179, 0.05);
        border-radius: 8px;
        border-left: 3px solid var(--primary-color);
    }
    
    .file-icon {
        font-size: 1.1rem;
        margin-right: 0.5rem;
        line-height: 1;
    }
    
    .excel-icon {
        color: #1D6F42;
    }
    
    .csv-icon {
        color: #217346;
    }
    
    .pdf-icon {
        color: #F40F02;
    }
    
    .image-icon {
        color: #FF9900;
    }
    
    .file-name {
        flex-grow: 1;
        font-weight: 500;
        font-size: 0.8rem;
        line-height: 1.2;
    }
    
    .btn-remove-file {
        background: none;
        border: none;
        color: #dc3545;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .btn-remove-file:hover {
        transform: scale(1.2);
    }
    
    .file-types-container {
        margin-top: 1rem;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }
    
    .file-type-label {
        font-size: 0.75rem;
        color: var(--gray-color);
        margin-bottom: 0.3rem;
        font-weight: 500;
    }
    
    .file-types {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .file-type-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.2rem 0.5rem;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 50px;
        font-size: 0.7rem;
        transition: all 0.3s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        height: 22px;
        line-height: 1;
    }
    
    .file-type-badge i {
        margin-right: 0.25rem;
        font-size: 0.65rem;
    }
    
    .file-type-badge:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    html.dark-mode .file-drop-area {
        background-color: rgba(33, 37, 41, 0.5);
        border-color: #495057;
    }
    
    html.dark-mode .file-type-badge {
        background: linear-gradient(135deg, #343a40 0%, #212529 100%);
        color: #e9ecef;
    }
    
    html.dark-mode .selected-file {
        background-color: rgba(66, 135, 245, 0.1);
    }
    
    /* Animations */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .breadcrumb-section {
        padding: 2rem 0;
        background-color: var(--light-blue);
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
        .form-card {
            padding: 1.5rem;
        }
        
        .form-header h1 {
            font-size: 2rem;
        }
        
        .radio-group {
            flex-direction: column;
        }
        
        .radio-item {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Breadcrumb -->
<div class="breadcrumb-section">
    <div class="container">
        <br>
        <br> 
        <div class="breadcrumb-content">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ url_for('index') }}"><i class="fas fa-home me-1"></i> Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page"><i class="fas fa-sliders-h me-1"></i> Customize Leads</li>
                </ol>
            </nav>
            <h1 class="page-title">
                <span class="title-icon"><i class="fas fa-cogs"></i></span>
                <span>Customize Your Leads</span>
            </h1>
            <p class="page-subtitle">Define your target audience and get high-quality leads tailored to your needs</p>
        </div>
    </div>
</div>

<style>
    .breadcrumb-section {
        padding: 3rem 0 2rem;
        background: linear-gradient(135deg, var(--light-blue) 0%, rgba(0,86,179,0.1) 100%);
        position: relative;
        overflow: hidden;
    }
    
    .breadcrumb-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMTI4MCAxNDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZmZmZiI+PHBhdGggZD0iTTEyODAgMy40QzEwNTAuNTkgMTggMTAxOS40IDg0Ljg5IDczNC40MiA4NC44OWMtMzIwIDAtMzIwLTg0LjMtNjQwLTg0LjNDNTkuNC41OSAyOC4yIDEuNiAwIDMuNFYxNDBoMTI4MHoiIGZpbGwtb3BhY2l0eT0iLjMiLz48cGF0aCBkPSJNMCAyNC4zMWM0My40Ni01LjY5IDk0LjU2LTkuMjUgMTU4LjQyLTkuMjUgMzIwIDAgMzIwIDg5LjI0IDY0MCA4OS4yNCAyNTYuMTMgMCAzMDcuMjgtNTcuMTYgNDgxLjU4LTgwVjE0MEgweiIgZmlsbC1vcGFjaXR5PSIuNSIvPjxwYXRoIGQ9Ik0xMjgwIDUxLjc2Yy0yMDEgMTIuNDktMjQyLjQzIDUzLjQtNTEzLjU4IDUzLjQtMzIwIDAtMzIwLTU3LTY0MC01Ny00OC44NS4wMS05MC4yMSAxLjM1LTEyNi40MiAzLjZWMTQwaDEyODB6Ii8+PC9nPjwvc3ZnPg==');
        background-size: 100% 100px;
        background-position: bottom;
        background-repeat: no-repeat;
        z-index: 1;
        opacity: 0.3;
    }
    
    .breadcrumb-content {
        position: relative;
        z-index: 2;
        padding: 1rem 0;
    }
    
    .breadcrumb {
        background-color: transparent;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        display: inline-flex;
        background-color: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(5px);
        margin-bottom: 1.5rem;
    }
    
    .breadcrumb-item a {
        color: var(--primary-color);
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .breadcrumb-item a:hover {
        color: #4287f5;
        text-decoration: none;
        transform: translateY(-2px);
    }
    
    .breadcrumb-item.active {
        color: var(--gray-color);
        font-weight: 500;
    }
    
    .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
    }
    
    .title-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
        color: white;
        border-radius: 50%;
        margin-right: 0.8rem;
        box-shadow: 0 4px 10px rgba(0, 86, 179, 0.3);
        font-size: 0.9rem;
    }
    
    .page-subtitle {
        font-size: 1.1rem;
        color: var(--gray-color);
        max-width: 600px;
    }
    
    html.dark-mode .breadcrumb-section {
        background: linear-gradient(135deg, #233549 0%, rgba(44, 62, 80, 0.1) 100%);
    }
    
    html.dark-mode .breadcrumb {
        background-color: rgba(0, 0, 0, 0.2);
    }
    
    html.dark-mode .page-title {
        color: #4287f5;
    }
    
    html.dark-mode .page-subtitle {
        color: #b8c4d0;
    }
    
    @media (max-width: 768px) {
        .breadcrumb-section {
            padding: 2rem 0 1.5rem;
        }
        
        .page-title {
            font-size: 2rem;
        }
        
        .title-icon {
            width: 40px;
            height: 40px;
        }
    }
    
    /* Custom Range Input Styling */
    #customRangeInput {
        animation: fadeIn 0.3s ease-out;
    }
</style>

<!-- Customize Leads Form Section -->
<section class="customize-leads-section">
    <div class="container">

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="form-card">
                    <div class="form-header">
                        <div class="icon-wrapper mb-3">
                            <div class="icon-circle">
                                <i class="fas fa-bullseye pulse-icon"></i>
                            </div>
                        </div>
                        <h1>Target Leads Criteria</h1>
                        <div class="alert alert-success mb-3 glow-effect">
                            <div class="alert-icon-wrapper">
                                <i class="fas fa-gift fa-bounce"></i>
                            </div>
                            <div class="alert-content">
                                <strong>FREE SAMPLE!</strong> Get your first customized leads at no cost!
                            </div>
                        </div>
                        <p>Customize your lead generation requirements by providing targeting information below. Name and email are required, all other fields are optional - fill in only what matters to you!</p>
                        <div class="premium-badge mb-3">
                            <span class="badge-icon"><i class="fas fa-crown"></i></span>
                            <span class="badge-text">Free Customize Leads</span>
                            <span class="badge-sparkle"></span>
                        </div>
                    </div>
                    
                    <form method="POST" action="{{ url_for('customize_leads') }}" id="customizeLeadsForm" enctype="multipart/form-data">
                        {{ form.hidden_tag() }}
                        
                        <!-- Contact Information Section -->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="{{ form.name.id }}" class="form-label">
                                        <div class="form-icon-wrapper">
                                            <i class="fas fa-user-circle form-icon"></i>
                                        </div>
                                        {{ form.name.label }} <span class="text-danger">*</span>
                                    </label>
                                    <div class="input-wrapper">
                                        {{ form.name(class="form-control", placeholder="Your full name") }}
                                        <div class="input-focus-effect"></div>
                                    </div>
                                    {% if form.name.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.name.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="{{ form.email.id }}" class="form-label">
                                        <div class="form-icon-wrapper">
                                            <i class="fas fa-envelope-open-text form-icon"></i>
                                        </div>
                                        {{ form.email.label }} <span class="text-danger">*</span>
                                    </label>
                                    <div class="input-wrapper">
                                        {{ form.email(class="form-control", placeholder="Your email address") }}
                                        <div class="input-focus-effect"></div>
                                    </div>
                                    {% if form.email.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.email.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <hr class="my-4">
                        <h4 class="mb-3">Lead Criteria</h4>
                        
                        <div class="form-group">
                            <label for="{{ form.countries.id }}" class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-globe-americas form-icon"></i>
                                </div>
                                {{ form.countries.label }} <span class="optional-badge">optional</span>
                            </label>
                            <div class="input-wrapper">
                                {{ form.countries(class="form-control", placeholder="e.g., USA, UK, Canada, Australia") }}
                                <div class="input-focus-effect"></div>
                            </div>
                            <small class="form-text enhanced-text">
                                <i class="fas fa-info-circle me-1"></i> {{ form.countries.description }}
                            </small>
                            {% if form.countries.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.countries.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.industry.id }}" class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-building form-icon"></i>
                                </div>
                                {{ form.industry.label }} <span class="optional-badge">optional</span>
                            </label>
                            <div class="input-wrapper">
                                {{ form.industry(class="form-control", placeholder="e.g., Technology, SaaS, Marketing, Healthcare") }}
                                <div class="input-focus-effect"></div>
                            </div>
                            <small class="form-text enhanced-text">
                                <i class="fas fa-info-circle me-1"></i> {{ form.industry.description }}
                            </small>
                            {% if form.industry.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.industry.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-chart-bar form-icon"></i>
                                </div>
                                Employee Count Range <span class="optional-badge">optional</span>
                            </label>
                            <div class="select-wrapper mb-2">
                                {{ form.employee_count_range(class="form-control custom-select", id="employeeCountRange", style="height: 36px; padding-right: 30px; font-size: 0.9rem;") }}
                                <div class="select-arrow">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <small class="form-text enhanced-text mb-2">
                                <i class="fas fa-info-circle me-1"></i> Select from common ranges or choose "Custom Range" for specific values
                            </small>
                            {% if form.employee_count_range.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.employee_count_range.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                            
                            <div id="customRangeInput" class="mt-3" style="display: none;">
                                <div class="input-group custom-input-group">
                                    <span class="input-group-text"><i class="fas fa-ruler-combined"></i></span>
                                    <div class="input-wrapper flex-grow-1">
                                        {{ form.custom_employee_count(class="form-control", placeholder="Enter custom range (e.g., 100-300)", style="height: 36px; font-size: 0.9rem;", id="customEmployeeCount") }}
                                        <div class="input-focus-effect"></div>
                                    </div>
                                </div>
                                <small class="form-text enhanced-text">
                                    <i class="fas fa-info-circle me-1"></i> Specify exact employee count range (e.g., 50-200)
                                </small>
                                {% if form.custom_employee_count.errors %}
                                    <div class="invalid-feedback d-block">
                                        {% for error in form.custom_employee_count.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <script>
                                // Handle employee range selection
                                document.addEventListener('DOMContentLoaded', function() {
                                    const rangeSelect = document.getElementById('employeeCountRange');
                                    const customInput = document.getElementById('customRangeInput');
                                    const customEmployeeCount = document.getElementById('customEmployeeCount');
                                    
                                    // Function to check if "Custom Range" is selected
                                    function checkCustomRange() {
                                        if (rangeSelect.value === 'custom') {
                                            customInput.style.display = 'block';
                                            setTimeout(() => customEmployeeCount.focus(), 100);
                                        } else {
                                            customInput.style.display = 'none';
                                            customEmployeeCount.value = '';
                                        }
                                    }
                                    
                                    // Initial check
                                    checkCustomRange();
                                    
                                    // Add change event listener
                                    rangeSelect.addEventListener('change', checkCustomRange);
                                    
                                    // Form submission handler
                                    document.getElementById('customizeLeadsForm').addEventListener('submit', function(e) {
                                        if (rangeSelect.value === 'custom' && !customEmployeeCount.value.trim()) {
                                            e.preventDefault();
                                            alert('Please enter a custom employee count range');
                                            customEmployeeCount.focus();
                                        }
                                    });
                                    
                                    // Add input validation for custom range
                                    customEmployeeCount.addEventListener('input', function() {
                                        const value = this.value;
                                        // Allow only numbers, hyphens, and commas
                                        this.value = value.replace(/[^0-9\-,]/g, '');
                                    });
                                });
                            </script>
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.target_titles.id }}" class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-user-tag form-icon"></i>
                                </div>
                                {{ form.target_titles.label }} <span class="optional-badge">optional</span>
                            </label>
                            <div class="input-wrapper">
                                {{ form.target_titles(class="form-control", placeholder="e.g., CEO, Founder, VP of Sales, Marketing Director") }}
                                <div class="input-focus-effect"></div>
                            </div>
                            <div class="tags-suggestion">
                                <span class="tag-item" onclick="appendTag('CEO')">CEO</span>
                                <span class="tag-item" onclick="appendTag('CTO')">CTO</span>
                                <span class="tag-item" onclick="appendTag('Founder')">Founder</span>
                                <span class="tag-item" onclick="appendTag('VP of Marketing')">VP of Marketing</span>
                                <span class="tag-item" onclick="appendTag('Director')">Director</span>
                            </div>
                            <small class="form-text enhanced-text">
                                <i class="fas fa-info-circle me-1"></i> {{ form.target_titles.description }}
                            </small>
                            {% if form.target_titles.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.target_titles.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                            
                            <script>
                                function appendTag(tag) {
                                    const input = document.getElementById('{{ form.target_titles.id }}');
                                    const currentValue = input.value.trim();
                                    
                                    if (currentValue === '') {
                                        input.value = tag;
                                    } else if (!currentValue.includes(tag)) {
                                        input.value = currentValue + ', ' + tag;
                                    }
                                    
                                    // Add animation to the clicked tag
                                    event.target.classList.add('tag-clicked');
                                    setTimeout(() => {
                                        event.target.classList.remove('tag-clicked');
                                    }, 500);
                                    
                                    // Focus back on input
                                    input.focus();
                                }
                            </script>
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.leads_per_company.id }}" class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-layer-group form-icon"></i>
                                </div>
                                {{ form.leads_per_company.label }} <span class="optional-badge">optional</span>
                            </label>
                            <div class="input-group leads-input-group">
                                <span class="input-group-text"><i class="fas fa-database"></i></span>
                                <div class="input-wrapper flex-grow-1">
                                    {{ form.leads_per_company(class="form-control", placeholder="Number of leads per company", min=1, value=1, style="height: 36px; font-size: 0.9rem;") }}
                                    <div class="input-focus-effect"></div>
                                </div>
                                <div class="input-group-append d-flex">
                                    <button type="button" class="btn btn-counter" id="decreaseLeads"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn btn-counter" id="increaseLeads"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="counter-value-display">
                                <span id="currentLeadCount">1</span> <span class="counter-label">leads per company</span>
                            </div>
                            <small class="form-text enhanced-text">
                                <i class="fas fa-info-circle me-1"></i> Specify how many contacts you need from each company
                            </small>
                            
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    const leadsInput = document.getElementById('{{ form.leads_per_company.id }}');
                                    const decreaseBtn = document.getElementById('decreaseLeads');
                                    const increaseBtn = document.getElementById('increaseLeads');
                                    const currentLeadCount = document.getElementById('currentLeadCount');
                                    
                                    // Update display
                                    function updateDisplay() {
                                        currentLeadCount.textContent = leadsInput.value;
                                        
                                        // Add animation
                                        currentLeadCount.classList.add('counter-changed');
                                        setTimeout(() => {
                                            currentLeadCount.classList.remove('counter-changed');
                                        }, 500);
                                    }
                                    
                                    // Set minimum value
                                    const minValue = 1;
                                    
                                    // Decrease button click handler
                                    decreaseBtn.addEventListener('click', function() {
                                        let currentValue = parseInt(leadsInput.value) || 1;
                                        if (currentValue > minValue) {
                                            leadsInput.value = currentValue - 1;
                                            updateDisplay();
                                        }
                                    });
                                    
                                    // Increase button click handler
                                    increaseBtn.addEventListener('click', function() {
                                        let currentValue = parseInt(leadsInput.value) || 0;
                                        leadsInput.value = currentValue + 1;
                                        updateDisplay();
                                    });
                                    
                                    // Ensure the input always has a valid number
                                    leadsInput.addEventListener('change', function() {
                                        let value = parseInt(this.value) || 0;
                                        if (value < minValue) {
                                            this.value = minValue;
                                        }
                                        updateDisplay();
                                    });
                                    
                                    // Initial display
                                    updateDisplay();
                                });
                            </script>
                            
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    const leadsInput = document.getElementById('{{ form.leads_per_company.id }}');
                                    const decreaseBtn = document.getElementById('decreaseLeads');
                                    const increaseBtn = document.getElementById('increaseLeads');
                                    
                                    // Set minimum value
                                    const minValue = 1;
                                    
                                    // Decrease button click handler
                                    decreaseBtn.addEventListener('click', function() {
                                        let currentValue = parseInt(leadsInput.value) || 1;
                                        if (currentValue > minValue) {
                                            leadsInput.value = currentValue - 1;
                                        }
                                    });
                                    
                                    // Increase button click handler
                                    increaseBtn.addEventListener('click', function() {
                                        let currentValue = parseInt(leadsInput.value) || 0;
                                        leadsInput.value = currentValue + 1;
                                    });
                                    
                                    // Ensure the input always has a valid number
                                    leadsInput.addEventListener('change', function() {
                                        let value = parseInt(this.value) || 0;
                                        if (value < minValue) {
                                            this.value = minValue;
                                        }
                                    });
                                });
                            </script>
                            {% if form.leads_per_company.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.leads_per_company.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.notes.id }}" class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-comment-alt form-icon"></i>
                                </div>
                                {{ form.notes.label }} <span class="optional-badge">optional</span>
                            </label>
                            <div class="textarea-wrapper">
                                {{ form.notes(class="form-control", rows=4, placeholder="Describe any specific requirements, custom filters, or exclusions...") }}
                                <div class="textarea-focus-effect"></div>
                                <div class="textarea-character-count">
                                    <span id="notesCharCount">0</span> characters
                                </div>
                            </div>
                            <small class="form-text enhanced-text">
                                <i class="fas fa-info-circle me-1"></i> {{ form.notes.description }}
                            </small>
                            {% if form.notes.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.notes.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                            
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    const notesField = document.getElementById('{{ form.notes.id }}');
                                    const charCount = document.getElementById('notesCharCount');
                                    
                                    function updateCharCount() {
                                        const count = notesField.value.length;
                                        charCount.textContent = count;
                                        
                                        // Add animation when typing
                                        charCount.classList.add('char-count-updated');
                                        setTimeout(() => {
                                            charCount.classList.remove('char-count-updated');
                                        }, 300);
                                    }
                                    
                                    notesField.addEventListener('input', updateCharCount);
                                    
                                    // Initial count
                                    updateCharCount();
                                });
                            </script>
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.sample_file.id }}" class="form-label">
                                <div class="form-icon-wrapper">
                                    <i class="fas fa-file-import form-icon"></i>
                                </div>
                                {{ form.sample_file.label }} <span class="optional-badge">optional</span>
                            </label>
                            <div class="custom-file-upload">
                                {{ form.sample_file(class="form-control", id="customFileUpload", style="display: none;") }}
                                <div class="file-drop-area">
                                    <div class="file-upload-content">
                                        <div class="upload-icon-container">
                                            <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                        </div>
                                        <div class="upload-text">
                                            <p>Drag & drop files here or</p>
                                            <button type="button" class="btn-upload-file" onclick="document.getElementById('customFileUpload').click()">
                                                Browse Files
                                            </button>
                                        </div>
                                        <div id="file-chosen-container" class="file-chosen-container" style="display: none;">
                                            <div class="selected-file">
                                                <i class="fas fa-file-alt file-icon"></i>
                                                <span id="file-chosen" class="file-name">No file selected</span>
                                                <button type="button" class="btn-remove-file" onclick="removeFile()">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <small class="form-text enhanced-text">
                                <i class="fas fa-info-circle me-1"></i> {{ form.sample_file.description }}
                            </small>
                            <div class="file-types-container">
                                <div class="file-type-label">Supported file types:</div>
                                <div class="file-types">
                                    <span class="file-type-badge"><i class="fas fa-file-excel"></i> Excel</span>
                                    <span class="file-type-badge"><i class="fas fa-file-csv"></i> CSV</span>
                                    <span class="file-type-badge"><i class="fas fa-file-pdf"></i> PDF</span>
                                    <span class="file-type-badge"><i class="fas fa-file-image"></i> Image</span>
                                </div>
                            </div>
                            
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    const dropArea = document.querySelector('.file-drop-area');
                                    const fileInput = document.getElementById('customFileUpload');
                                    const fileChosen = document.getElementById('file-chosen');
                                    const fileChosenContainer = document.getElementById('file-chosen-container');
                                    
                                    // Prevent default drag behaviors
                                    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                                        dropArea.addEventListener(eventName, preventDefaults, false);
                                    });
                                    
                                    function preventDefaults(e) {
                                        e.preventDefault();
                                        e.stopPropagation();
                                    }
                                    
                                    // Highlight drop area when item is dragged over it
                                    ['dragenter', 'dragover'].forEach(eventName => {
                                        dropArea.addEventListener(eventName, highlight, false);
                                    });
                                    
                                    ['dragleave', 'drop'].forEach(eventName => {
                                        dropArea.addEventListener(eventName, unhighlight, false);
                                    });
                                    
                                    function highlight() {
                                        dropArea.classList.add('highlight');
                                    }
                                    
                                    function unhighlight() {
                                        dropArea.classList.remove('highlight');
                                    }
                                    
                                    // Handle dropped files
                                    dropArea.addEventListener('drop', handleDrop, false);
                                    
                                    function handleDrop(e) {
                                        const dt = e.dataTransfer;
                                        const files = dt.files;
                                        
                                        if (files.length > 0) {
                                            fileInput.files = files;
                                            updateFileInfo();
                                        }
                                    }
                                    
                                    // Handle selected files
                                    fileInput.addEventListener('change', updateFileInfo);
                                    
                                    function updateFileInfo() {
                                        if (fileInput.files.length > 0) {
                                            const fileName = fileInput.files[0].name;
                                            fileChosen.textContent = fileName;
                                            fileChosenContainer.style.display = 'block';
                                            
                                            // Add file icon based on extension
                                            const fileIcon = document.querySelector('.file-icon');
                                            const extension = fileName.split('.').pop().toLowerCase();
                                            
                                            if (['xlsx', 'xls'].includes(extension)) {
                                                fileIcon.className = 'fas fa-file-excel file-icon excel-icon';
                                            } else if (extension === 'csv') {
                                                fileIcon.className = 'fas fa-file-csv file-icon csv-icon';
                                            } else if (extension === 'pdf') {
                                                fileIcon.className = 'fas fa-file-pdf file-icon pdf-icon';
                                            } else if (['jpg', 'jpeg', 'png', 'gif'].includes(extension)) {
                                                fileIcon.className = 'fas fa-file-image file-icon image-icon';
                                            } else {
                                                fileIcon.className = 'fas fa-file file-icon';
                                            }
                                            
                                            // Add animation
                                            dropArea.classList.add('file-added');
                                        } else {
                                            fileChosenContainer.style.display = 'none';
                                            dropArea.classList.remove('file-added');
                                        }
                                    }
                                    
                                    // Initial check
                                    updateFileInfo();
                                });
                                
                                function removeFile() {
                                    const fileInput = document.getElementById('customFileUpload');
                                    fileInput.value = '';
                                    
                                    const event = new Event('change');
                                    fileInput.dispatchEvent(event);
                                }
                            </script>
                            
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    const actualFileInput = document.getElementById('customFileUpload');
                                    const fileChosen = document.getElementById('file-chosen');
                                    
                                    actualFileInput.addEventListener('change', function() {
                                        if (this.files.length > 0) {
                                            fileChosen.textContent = this.files[0].name;
                                            fileChosen.classList.remove('text-muted');
                                            fileChosen.classList.add('text-success');
                                        } else {
                                            fileChosen.textContent = 'No file selected';
                                            fileChosen.classList.add('text-muted');
                                            fileChosen.classList.remove('text-success');
                                        }
                                    });
                                });
                            </script>
                            {% if form.sample_file.errors %}
                                <div class="invalid-feedback d-block">
                                    {% for error in form.sample_file.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="submit-btn-container">
                            <button type="submit" class="submit-btn">
                                <span class="submit-btn-content">
                                    <i class="fas fa-rocket me-2 submit-icon"></i>
                                    <span class="submit-text">{{ form.submit.label.text }}</span>
                                </span>
                                <span class="submit-btn-particles"></span>
                                <span class="submit-btn-glow"></span>
                            </button>
                            <div class="submit-note">
                                <i class="fas fa-shield-alt me-1"></i> Your data is secure and will only be used to generate leads
                            </div>
                        </div>
                        <style>
                            .submit-btn-container {
                                margin-top: 2.5rem;
                                text-align: center;
                            }
                            
                            .submit-btn {
                                display: block;
                                width: 100%;
                                padding: 1.2rem;
                                border-radius: 50px;
                                background: linear-gradient(135deg, var(--primary-color) 0%, #4287f5 100%);
                                color: white;
                                font-weight: 700;
                                font-size: 1.2rem;
                                border: none;
                                cursor: pointer;
                                transition: all 0.3s ease;
                                position: relative;
                                overflow: hidden;
                                z-index: 1;
                                box-shadow: 0 10px 20px rgba(0, 86, 179, 0.3);
                            }
                            
                            .submit-btn-content {
                                position: relative;
                                z-index: 3;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                            }
                            
                            .submit-icon {
                                transition: all 0.3s ease;
                            }
                            
                            .submit-btn-glow {
                                position: absolute;
                                top: -50%;
                                left: -50%;
                                width: 200%;
                                height: 200%;
                                background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
                                transform: rotate(45deg);
                                z-index: 1;
                                transition: all 0.6s ease;
                                opacity: 0;
                            }
                            
                            .submit-btn-particles {
                                position: absolute;
                                top: 0;
                                left: 0;
                                width: 100%;
                                height: 100%;
                                overflow: hidden;
                                z-index: 2;
                            }
                            
                            .submit-btn-particles:before {
                                content: '';
                                position: absolute;
                                top: 0;
                                left: -100%;
                                width: 100%;
                                height: 100%;
                                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
                                transition: all 0.6s ease;
                            }
                            
                            .submit-btn:hover {
                                transform: translateY(-5px) scale(1.02);
                                box-shadow: 0 15px 30px rgba(0, 86, 179, 0.4);
                            }
                            
                            .submit-btn:hover .submit-btn-particles:before {
                                left: 100%;
                            }
                            
                            .submit-btn:hover .submit-icon {
                                transform: rotate(360deg);
                            }
                            
                            .submit-btn:hover .submit-btn-glow {
                                opacity: 1;
                            }
                            
                            .submit-note {
                                margin-top: 1rem;
                                font-size: 0.85rem;
                                color: var(--gray-color);
                                transition: all 0.3s ease;
                            }
                            
                            .submit-btn-container:hover .submit-note {
                                transform: translateY(-3px);
                            }
                            
                            @media (max-width: 768px) {
                                .submit-btn {
                                    padding: 1rem;
                                    font-size: 1.1rem;
                                }
                            }
                        </style>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Page load animation
        document.querySelector('.form-card').style.opacity = '0';
        document.querySelector('.form-card').style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            document.querySelector('.form-card').style.opacity = '1';
            document.querySelector('.form-card').style.transform = 'translateY(0)';
        }, 300);
        
        // Animate form elements on page load with staggered timing
        const formGroups = document.querySelectorAll('.form-group');
        formGroups.forEach((group, index) => {
            group.style.opacity = '0';
            group.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                group.style.opacity = '1';
                group.style.transform = 'translateY(0)';
            }, 500 + (index * 100)); // Delay start after card animation
        });
        
        // Form validation and enhanced UX
        const form = document.getElementById('customizeLeadsForm');
        const inputs = form.querySelectorAll('input, textarea, select');
        
        // Add floating label effect
        inputs.forEach(input => {
            // Skip radio buttons
            if (input.type === 'radio') return;
            
            // Add focus effects with glow
            input.addEventListener('focus', function() {
                const formGroup = this.closest('.form-group');
                formGroup.classList.add('focused');
                
                // Add subtle glow effect
                this.style.boxShadow = '0 0 10px rgba(0, 86, 179, 0.2)';
            });
            
            input.addEventListener('blur', function() {
                const formGroup = this.closest('.form-group');
                formGroup.classList.remove('focused');
                
                // Remove glow effect
                this.style.boxShadow = '';
                
                // Simple validation on blur
                if (this.hasAttribute('required') && !this.value.trim()) {
                    this.classList.add('is-invalid');
                } else {
                    this.classList.remove('is-invalid');
                    if (this.value.trim()) {
                        this.classList.add('is-valid');
                    } else {
                        this.classList.remove('is-valid');
                    }
                }
            });
            
            // Add typing animation effect for text inputs
            if (input.type === 'text' || input.tagName.toLowerCase() === 'textarea') {
                input.addEventListener('input', function() {
                    // Pulse border effect
                    this.style.borderColor = 'var(--primary-color)';
                    this.style.transform = 'translateY(-1px)';
                    
                    setTimeout(() => {
                        this.style.borderColor = '';
                        this.style.transform = '';
                    }, 300);
                    
                    // Animate the icon
                    const icon = this.closest('.form-group').querySelector('.form-icon');
                    if (icon) {
                        icon.style.transform = 'scale(1.2)';
                        setTimeout(() => {
                            icon.style.transform = '';
                        }, 300);
                    }
                });
            }
        });
        
        // Enhanced radio button interaction with animation
        const radioLabels = document.querySelectorAll('.radio-label');
        radioLabels.forEach(label => {
            label.addEventListener('click', function() {
                // Remove active class from all labels
                radioLabels.forEach(l => {
                    l.classList.remove('active');
                    l.style.transform = '';
                });
                
                // Add active class and transform effect
                this.classList.add('active');
                this.style.transform = 'scale(1.03)';
                
                // Animate the icon inside
                const icon = this.querySelector('i');
                if (icon) {
                    icon.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        icon.style.transform = '';
                    }, 300);
                }
            });
        });
        
        // Enhanced submit button animations
        const submitBtn = document.querySelector('.submit-btn');
        const submitIcon = document.querySelector('.submit-icon');
        
        submitBtn.addEventListener('mouseover', function() {
            // Change icon on hover
            submitIcon.classList.remove('fa-rocket');
            submitIcon.classList.add('fa-paper-plane');
            
            // Add pulsing effect
            submitBtn.classList.add('pulse-effect');
            
            // Create particle effects
            createParticles();
        });
        
        submitBtn.addEventListener('mouseout', function() {
            // Restore original icon
            submitIcon.classList.remove('fa-paper-plane');
            submitIcon.classList.add('fa-rocket');
            
            // Remove pulsing effect
            submitBtn.classList.remove('pulse-effect');
        });
        
        // Create particle effects for the submit button
        function createParticles() {
            const particles = document.querySelector('.submit-btn-particles');
            
            // Clear existing particles
            while (particles.firstChild) {
                particles.removeChild(particles.firstChild);
            }
            
            // Create new particles
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('span');
                particle.className = 'particle';
                
                // Random position
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                
                // Random size
                const size = Math.random() * 5 + 2;
                
                // Random color
                const colors = ['#ffffff', '#4287f5', '#62a9ff', '#90c2ff'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // Set styles
                particle.style.cssText = `
                    position: absolute;
                    top: ${posY}%;
                    left: ${posX}%;
                    width: ${size}px;
                    height: ${size}px;
                    background-color: ${color};
                    border-radius: 50%;
                    pointer-events: none;
                    opacity: 0;
                    animation: particle-animation 1s ease-out forwards;
                `;
                
                particles.appendChild(particle);
            }
        }
        
        // Add CSS for particles
        const particleStyle = document.createElement('style');
        particleStyle.textContent = `
            @keyframes particle-animation {
                0% {
                    transform: translate(0, 0);
                    opacity: 1;
                }
                100% {
                    transform: translate(${Math.random() > 0.5 ? '-' : ''}${Math.random() * 50 + 10}px, 
                                       ${Math.random() > 0.5 ? '-' : ''}${Math.random() * 50 + 10}px);
                    opacity: 0;
                }
            }
            
            .pulse-effect {
                animation: pulse 1.5s infinite;
            }
        `;
        document.head.appendChild(particleStyle);
        
        // Form submission animation and validation
        form.addEventListener('submit', function(e) {
            const isValid = form.checkValidity();
            
            if (!isValid) {
                e.preventDefault();
                
                // Add shake animation to form
                form.classList.add('shake-horizontal');
                setTimeout(() => {
                    form.classList.remove('shake-horizontal');
                }, 600);
                
                // Highlight invalid fields with animation
                const invalidInputs = form.querySelectorAll(':invalid');
                invalidInputs.forEach(input => {
                    const formGroup = input.closest('.form-group');
                    
                    // Add invalid class
                    input.classList.add('is-invalid');
                    
                    // Add shake animation
                    formGroup.classList.add('shake');
                    formGroup.style.borderLeft = '3px solid #dc3545';
                    
                    setTimeout(() => {
                        formGroup.classList.remove('shake');
                    }, 600);
                });
                
                // Scroll to first invalid field with smooth animation
                if (invalidInputs.length > 0) {
                    invalidInputs[0].scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }
            } else {
                // Show success animation
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i> Processing Your Request...';
                submitBtn.disabled = true;
                submitBtn.classList.add('success-pulse');
                
                // Add success animation to form
                form.style.transition = 'all 0.5s ease';
                form.style.transform = 'scale(0.98)';
                
                setTimeout(() => {
                    form.style.transform = '';
                }, 300);
            }
        });
        
        // Add custom animations for specific fields
        
        // File upload field special effect
        const sampleFileField = document.getElementById('sample_file');
        if (sampleFileField) {
            sampleFileField.addEventListener('change', function() {
                const icon = this.closest('.form-group').querySelector('.form-icon');
                icon.classList.add('fa-bounce');
                
                setTimeout(() => {
                    icon.classList.remove('fa-bounce');
                }, 1000);
                
                // Show filename
                const fileName = this.files[0] ? this.files[0].name : 'No file chosen';
                const fileNameDisplay = document.createElement('div');
                fileNameDisplay.className = 'mt-2 text-primary';
                fileNameDisplay.innerHTML = `<i class="fas fa-file me-1"></i> ${fileName}`;
                
                // Remove any existing filename display
                const existingDisplay = this.closest('.form-group').querySelector('.text-primary');
                if (existingDisplay) {
                    existingDisplay.remove();
                }
                
                // Add new filename display
                this.closest('.form-group').appendChild(fileNameDisplay);
            });
        }
        
        // Add special effects for number inputs
        const numberInputs = document.querySelectorAll('input[type="number"]');
        numberInputs.forEach(input => {
            input.addEventListener('focus', function() {
                const icon = this.closest('.form-group').querySelector('.form-icon');
                if (icon) {
                    icon.classList.add('fa-pulse');
                }
            });
            
            input.addEventListener('blur', function() {
                const icon = this.closest('.form-group').querySelector('.form-icon');
                if (icon) {
                    icon.classList.remove('fa-pulse');
                }
            });
        });
        
        // Add CSS animation classes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                20%, 60% { transform: translateX(-5px); }
                40%, 80% { transform: translateX(5px); }
            }
            
            @keyframes shake-horizontal {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                20%, 40%, 60%, 80% { transform: translateX(5px); }
            }
            
            @keyframes success-pulse {
                0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
                70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
                100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
            }
            
            .shake {
                animation: shake 0.5s ease-in-out;
            }
            
            .shake-horizontal {
                animation: shake-horizontal 0.7s ease-in-out;
            }
            
            .success-pulse {
                animation: success-pulse 1.5s infinite;
            }
            
            .fa-spin-pulse {
                animation: fa-spin 2s infinite linear;
            }
            
            .fa-bounce {
                animation: fa-bounce 1s infinite;
            }
        `;
        document.head.appendChild(style);
    });
</script>
{% endblock %}